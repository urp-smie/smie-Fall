function [ result ] = SSA( sig)
%UNTITLED Summary of this function goes here
%   Detailed explanation goes here

ppg = sig(2,:);
x = sig(4,:);
y = sig(5,:);
z = sig(6,:);
l=length(ppg);       %?????
fs=125; %????
%%%%%%%%%%%%%%%%????
t=1:l;
figure(1);
subplot(1,2,1);
plot(t,ppg); 
title('????');
xlabel('??');
ylabel('??');
grid on;

nf=2^nextpow2(l);
Y=fftshift(fft(s,nf));
%k=-fs/2+(0:nf-1)*fs/nf;    
k=fs*linspace(0,1,nf)-fs/2;
subplot(1,2,2);
plot(k,abs(Y));   %??????
title('????');
xlabel('??');
ylabel('??');
grid on;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%?????
ws=0.4;    %??????
ws1=5;  %??????
ds=50;      %????
wt=2*pi*ws/fs;   %????????????
wz=2*pi*ws1/fs;  %???
wc=(wt+wz)/2;    %????????????
n=ceil(6.6*pi/(wz-wt));  %t=(n-1)/2;
 q=fir1(n-1,wc/pi,hanning(n));%???????
w=linspace(0,pi,512);
h1=freqz(q,1,512); %??512????????
figure(2);
plot(w/pi,20*log10(abs(h1)));
title('??????');
xlabel('??');
ylabel('??');
grid ;
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%????????
signal=conv(s,q);
nx=(0:n+l-2)/fs;
figure(3);
subplot(1,2,1);
plot(nx(n:60)*fs,signal(n:60));
title('??????????');
xlabel('??');
ylabel('??');
grid on;

lx=2^nextpow2(nx);
Y=fftshift(fft(signal,lx));
k=-fs/2+(0:lx-1)*fs/lx;    %
subplot(1,2,2);
plot(k,abs(Y));   %??????
title('???????');
xlabel('??');
ylabel('??');
grid on;
end

